<!DOCTYPE html>
<html>
<head>
<title>Internship Portal</title>

<style>
body{
  font-family:Arial;
  background:#f2f2f2;
  margin:0;
  padding:15px;
}
.header{
  background:#000;
  color:white;
  padding:12px;
}
.card{
  background:white;
  padding:12px;
  margin:10px 0;
  border-radius:6px;
}
input, button{
  padding:8px;
  margin:5px 0;
}
button{
  background:#1db954;
  border:none;
  border-radius:20px;
  cursor:pointer;
}
.applied{
  color:green;
  font-weight:bold;
}
</style>
</head>

<body>

<div class="header">
  <b>Internship Portal</b>
</div>

<br>

<input
  id="search"
  placeholder="Search internship role"
  onkeyup="filterJobs()"
>

<div id="jobs"></div>

<script>
/* ===== DATA ===== */
let jobs = [
  { role:"Frontend Intern", company:"TechCorp" },
  { role:"JavaScript Intern", company:"Webify" },
  { role:"UI Intern", company:"DesignPro" }
];

let applied = JSON.parse(localStorage.getItem("applied") || "[]");

/* ===== ELEMENT ===== */
let jobsDiv = document.getElementById("jobs");

/* ===== SHOW JOBS ===== */
function show(list){
  jobsDiv.innerHTML = "";

  list.forEach(job=>{
    let alreadyApplied = applied.includes(job.role);

    let div = document.createElement("div");
    div.className = "card";

    div.innerHTML = `
      <h3>${job.role}</h3>
      <p>${job.company}</p>
      ${
        alreadyApplied
        ? "<span class='applied'>Applied</span>"
        : `<button onclick="apply('${job.role}')">Apply</button>`
      }
    `;

    jobsDiv.appendChild(div);
  });
}

/* ===== SEARCH ===== */
function filterJobs(){
  let value = search.value.toLowerCase();
  let filtered = jobs.filter(j =>
    j.role.toLowerCase().includes(value)
  );
  show(filtered);
}

/* ===== APPLY ===== */
function apply(role){
  applied.push(role);
  localStorage.setItem("applied", JSON.stringify(applied));
  show(jobs);
}

/* ===== INITIAL LOAD ===== */
show(jobs);
</script>

</body>
</html>